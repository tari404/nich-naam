{"version":3,"file":"js/app.31bb461f.js","mappings":"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","sources":["webpack://flower/./src/App.vue?8ffa","webpack://flower/./src/components/TestScene.vue?9ef1","webpack://flower/./src/lib/utils.ts","webpack://flower/./src/lib/custom.glsl.fs","webpack://flower/./src/lib/Main.ts","webpack://flower/./src/components/TestScene.vue?8e97","webpack://flower/./src/components/TestScene.vue","webpack://flower/./src/App.vue?847a","webpack://flower/./src/App.vue","webpack://flower/./src/main.ts","webpack://flower/webpack/bootstrap","webpack://flower/webpack/runtime/chunk loaded","webpack://flower/webpack/runtime/compat get default export","webpack://flower/webpack/runtime/define property getters","webpack://flower/webpack/runtime/global","webpack://flower/webpack/runtime/hasOwnProperty shorthand","webpack://flower/webpack/runtime/make namespace object","webpack://flower/webpack/runtime/jsonp chunk loading","webpack://flower/webpack/startup"],"sourcesContent":["import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_TestScene = _resolveComponent(\"TestScene\")!\n\n  return (_openBlock(), _createBlock(_component_TestScene))\n}","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-ed368340\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"menu\" }\nconst _hoisted_2 = { class: \"log\" }\nconst _hoisted_3 = {\n  ref: \"canvas\",\n  class: \"canvas-body\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"button\", {\n        onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.record && _ctx.record(...args)))\n      }, \"record\"),\n      _createElementVNode(\"button\", {\n        onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.test && _ctx.test(...args)))\n      }, \"test\"),\n      _createElementVNode(\"p\", _hoisted_2, _toDisplayString(_ctx.log), 1)\n    ]),\n    _createElementVNode(\"section\", _hoisted_3, null, 512)\n  ], 64))\n}","import * as THREE from 'three'\n\nexport function initRenderer(): THREE.WebGLRenderer {\n  const renderer = new THREE.WebGLRenderer({\n    antialias: true,\n  })\n  renderer.shadowMap.enabled = true\n  renderer.shadowMap.type = THREE.PCFSoftShadowMap\n  renderer.outputEncoding = THREE.sRGBEncoding\n\n  return renderer\n}\n","export default \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define IOR\\n\\t#define SPECULAR\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\nuniform float time;\\n#ifdef IOR\\n\\tuniform float ior;\\n#endif\\n#ifdef SPECULAR\\n\\tuniform float specularIntensity;\\n\\tuniform vec3 specularColor;\\n\\t#ifdef USE_SPECULARINTENSITYMAP\\n\\t\\tuniform sampler2D specularIntensityMap;\\n\\t#endif\\n\\t#ifdef USE_SPECULARCOLORMAP\\n\\t\\tuniform sampler2D specularColorMap;\\n\\t#endif\\n#endif\\n#ifdef USE_CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_IRIDESCENCE\\n\\tuniform float iridescence;\\n\\tuniform float iridescenceIOR;\\n\\tuniform float iridescenceThicknessMinimum;\\n\\tuniform float iridescenceThicknessMaximum;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheenColor;\\n\\tuniform float sheenRoughness;\\n\\t#ifdef USE_SHEENCOLORMAP\\n\\t\\tuniform sampler2D sheenColorMap;\\n\\t#endif\\n\\t#ifdef USE_SHEENROUGHNESSMAP\\n\\t\\tuniform sampler2D sheenRoughnessMap;\\n\\t#endif\\n#endif\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <iridescence_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_physical_pars_fragment>\\n#include <transmission_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <iridescence_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\n\\nconst float SHAPE_SIZE = .618;\\n\\nmat2 rotate2d(float _angle){\\n    return mat2(cos(_angle),-sin(_angle),\\n                sin(_angle),cos(_angle));\\n}\\n\\nfloat getColorComponent(in vec2 st, in float modScale, in float blur) {\\n\\tvec2 modSt = mod(st, 1. / modScale) * modScale * 2. - 1.;\\n\\tfloat dist = length(modSt);\\n\\tfloat angle = atan(st.x, st.y) + sin(time * .08) * 9.0;\\n\\t//dist = sdPolygon(angle, dist);\\n\\tdist += sin(angle * 3. + time * .21) * .2 + cos(angle * 4. - time * .3) * .1;\\n\\tfloat shapeMap = smoothstep(SHAPE_SIZE + blur, SHAPE_SIZE - blur, sin(dist * 3.0) * .5 + .5);\\n\\treturn shapeMap;\\n}\\n\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\\n\\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\\n\\t#include <transmission_fragment>\\n\\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\\n\\t#ifdef USE_SHEEN\\n\\t\\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\\n\\t\\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\\n\\t\\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\\n\\t#endif\\n\\n\\t// custom start\\n\\t// outgoingLight = vNormal;\\n  float blur = .4 + sin(time * .52) * .0;\\n\\tvec2 st = (normalize(vViewPosition) + vNormal).xy;\\n\\tst *= rotate2d(sin(time * .14) * .3);\\n\\tst *= (sin(time * .15) + 2.) * .3;\\n\\tst *= log(length(st * .428)) * 1.1;\\n\\n\\tvec3 color = vec3(0);\\n\\tfloat luma = 0.5;\\n\\tfloat modScale = 0.9 + sin(time) * 0.6;\\n\\tfor (float i = 0.; i < 4.0; i++) {\\n\\t\\t\\tvec2 center = st + vec2(sin(time * .12), cos(time * .13));\\n\\t\\t\\t//center += pow(length(center), 1.);\\n\\t\\t\\tvec3 shapeColor = vec3(\\n\\t\\t\\t\\t\\tgetColorComponent(center - st * 0.2, modScale, blur),\\n\\t\\t\\t\\t\\tgetColorComponent(center, modScale, blur),\\n\\t\\t\\t\\t\\tgetColorComponent(center + st * 0.2, modScale, blur)        \\n\\t\\t\\t) * luma;\\n\\t\\t\\tst *= 1.1 + getColorComponent(center, modScale, .04) * 1.2;\\n\\t\\t\\tst *= rotate2d(sin(time  * .05) * 1.33);\\n\\t\\t\\tcolor += shapeColor;\\n\\t\\t\\t// color = clamp(color, 0., 1.);\\n\\t\\t\\t// if (color == vec3(1)) break;\\n\\t\\t\\tluma *= .7;\\n\\t\\t\\tblur *= .63;\\n    }\\n\\toutgoingLight = color;\\n\\t// custom end\\n\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";","import { initRenderer } from './utils'\nimport * as THREE from 'three'\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js'\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass.js'\n\nimport customFragmentShader from './custom.glsl.fs'\n\nconst ball = new THREE.Mesh(\n  new THREE.TorusKnotGeometry(1, 0.15, 200, 16, 2, 5),\n  // new THREE.SphereGeometry(1, 32, 16),\n  // new THREE.MeshStandardMaterial({\n  //   color: 0xd0d8dc,\n  //   metalness: 0.96,\n  //   roughness: 0.1,\n  // })\n  new THREE.ShaderMaterial({\n    uniforms: {\n      ...THREE.ShaderLib.standard.uniforms,\n      time: { value: 0 },\n    },\n    vertexShader: THREE.ShaderLib.standard.vertexShader,\n    fragmentShader: customFragmentShader,\n    lights: true,\n    fog: true,\n  })\n)\n\nwindow.THREE = THREE\n\nexport default class MainStage {\n  private width: number\n  private height: number\n\n  private renderer: THREE.WebGLRenderer\n  private scene: THREE.Scene\n  private camera: THREE.PerspectiveCamera\n\n  private composer: EffectComposer\n\n  private skip = false\n\n  private raf = 0\n\n  constructor() {\n    this.renderer = initRenderer()\n    this.scene = new THREE.Scene()\n    this.camera = new THREE.PerspectiveCamera(\n      60,\n      window.innerWidth / window.innerHeight,\n      1,\n      2000\n    )\n    this.camera.position.set(0, 3, 4)\n    this.camera.lookAt(0, 0, 0)\n\n    this.width = window.innerWidth\n    this.height = window.innerHeight\n\n    const composer = new EffectComposer(this.renderer)\n    const renderPass = new RenderPass(this.scene, this.camera)\n    composer.addPass(renderPass)\n\n    this.composer = composer\n  }\n\n  public get domElement(): HTMLCanvasElement {\n    return this.renderer.domElement\n  }\n\n  public start(): void {\n    this.raf = requestAnimationFrame((time) => {\n      this.render(time)\n    })\n  }\n\n  public dispose(): void {\n    cancelAnimationFrame(this.raf)\n    this.renderer.dispose()\n  }\n\n  public initTestScene() {\n    this.scene.add(ball)\n    ball.castShadow = true\n    ball.receiveShadow = true\n\n    const envLight = new THREE.HemisphereLight(0xffffee, 0x484880, 0.4)\n    this.scene.add(envLight)\n    const mainLight = new THREE.DirectionalLight(0xffffff, 0.4)\n    mainLight.castShadow = true\n    mainLight.shadow.mapSize.set(4096, 4096)\n    mainLight.position.set(0.54, 0.81, -0.2)\n    const k = window.innerHeight / window.innerWidth\n    const x = 1.8584 + k * 1.4779 + 0.1\n    const y = 1.0421 + k * 3.9332 + 0.1\n    mainLight.shadow.camera.left = -y\n    mainLight.shadow.camera.right = y\n    mainLight.shadow.camera.bottom = -x\n    mainLight.shadow.camera.top = x\n    mainLight.shadow.camera.near = -100\n    mainLight.shadow.camera.far = 100\n    this.scene.add(mainLight)\n  }\n\n  public resize(width: number, height: number) {\n    this.renderer.setPixelRatio(window.devicePixelRatio)\n    this.renderer.setSize(width, height)\n\n    this.camera.aspect = width / height\n    this.camera.updateProjectionMatrix()\n\n    this.width = width\n    this.height = height\n  }\n\n  public record(ms = 5000) {\n    const types = [\n      ['video/webm', '.webm'],\n      ['video/quicktime', '.mov'],\n      ['video/ogg', '.ogg'],\n      ['video/mp4', '.mp4'],\n    ]\n\n    const selected = types.find((item) =>\n      MediaRecorder.isTypeSupported(item[0])\n    )\n\n    if (!selected) {\n      return false\n    }\n    const [mimeType, suffix] = selected\n\n    const recordedChunks: BlobPart[] = []\n\n    const stream = this.domElement.captureStream(30)\n\n    const mediaRecorder = new MediaRecorder(stream, {\n      mimeType,\n    })\n\n    mediaRecorder.start(0)\n    setTimeout(() => {\n      mediaRecorder.stop()\n    }, ms)\n\n    mediaRecorder.ondataavailable = function (e) {\n      recordedChunks.push(e.data)\n    }\n\n    mediaRecorder.onstop = function () {\n      const blob = new Blob(recordedChunks, {\n        type: mimeType,\n      })\n      const url = URL.createObjectURL(blob)\n\n      const a = document.createElement('a')\n      a.download = 'record' + suffix\n      a.href = url\n      a.dispatchEvent(new MouseEvent('click'))\n    }\n\n    return suffix\n  }\n\n  private update(time: number) {\n    // const x = Math.sin(time / 1000) * 4\n    // const z = Math.cos(time / 1000) * 4\n    // this.camera.position.set(x, 3, z)\n    // this.camera.lookAt(0, 0, 0)\n    ball.rotateY(0.02)\n    ball.rotateX(0.01)\n\n    ball.material.uniforms.time.value = time / 1000\n  }\n\n  private render(time: number) {\n    this.update(time)\n    // this.renderer.render(this.scene, this.camera)\n    if (!this.skip) {\n      this.composer.render()\n    }\n    this.skip = !this.skip\n    this.raf = requestAnimationFrame((time) => {\n      this.render(time)\n    })\n  }\n}\n","\nimport { defineComponent } from 'vue'\n\nimport MainStage from '@/lib/Main'\n\nconst stage = new MainStage()\n\nexport default defineComponent({\n  name: 'TestScene',\n  data() {\n    return {\n      log: '',\n    }\n  },\n  mounted() {\n    const body = this.$refs.canvas as Element\n    body.appendChild(stage.domElement)\n\n    stage.resize(window.innerWidth, window.innerHeight)\n    stage.initTestScene()\n    stage.start()\n  },\n  beforeUnmount() {\n    stage.dispose()\n  },\n  methods: {\n    record() {\n      const suffix = stage.record()\n      if (suffix) {\n        this.log = 'record next 5 second'\n      } else {\n        this.log = 'unable to record'\n      }\n    },\n    test() {\n      const types = [\n        ['video/webm', '.webm'],\n        ['video/quicktime', '.mov'],\n        ['video/ogg', '.ogg'],\n        ['video/mp4', '.mp4'],\n      ]\n\n      const checked = types.map((item) => [\n        ...item,\n        MediaRecorder.isTypeSupported(item[0]),\n      ])\n\n      const selected = checked.find((item) => item[2])\n\n      let log = checked\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        .map(([type, _, supported]) => (supported ? '✔ ' : '✖ ') + type)\n        .join('\\n')\n\n      if (selected) {\n        log += `\\nSelected: ${selected[1]}`\n      }\n\n      this.log = log\n\n      return selected\n    },\n  },\n})\n","import { render } from \"./TestScene.vue?vue&type=template&id=ed368340&scoped=true&ts=true\"\nimport script from \"./TestScene.vue?vue&type=script&lang=ts\"\nexport * from \"./TestScene.vue?vue&type=script&lang=ts\"\n\nimport \"./TestScene.vue?vue&type=style&index=0&id=ed368340&lang=stylus&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/nich-naam/nich-naam/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ed368340\"]])\n\nexport default __exports__","\nimport { defineComponent } from 'vue'\nimport TestScene from './components/TestScene.vue'\n\nexport default defineComponent({\n  name: 'App',\n  components: {\n    TestScene,\n  },\n})\n","import { render } from \"./App.vue?vue&type=template&id=e1483d1a&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/nich-naam/nich-naam/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\nimport '@/stylus/reset.styl'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkflower\"] = self[\"webpackChunkflower\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(9095); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_TestScene","_resolveComponent","_openBlock","_createBlock","_hoisted_1","class","_hoisted_2","_hoisted_3","ref","_createElementBlock","_Fragment","_createElementVNode","onClick","args","record","test","_toDisplayString","log","initRenderer","renderer","THREE","antialias","shadowMap","enabled","type","outputEncoding","ball","uniforms","time","value","vertexShader","fragmentShader","customFragmentShader","lights","fog","window","MainStage","constructor","this","scene","camera","innerWidth","innerHeight","position","set","lookAt","width","height","composer","EffectComposer","renderPass","RenderPass","addPass","domElement","start","raf","requestAnimationFrame","dispose","cancelAnimationFrame","initTestScene","add","castShadow","receiveShadow","envLight","mainLight","shadow","mapSize","k","x","y","left","right","bottom","top","near","far","resize","setPixelRatio","devicePixelRatio","setSize","aspect","updateProjectionMatrix","ms","types","selected","find","item","MediaRecorder","isTypeSupported","mimeType","suffix","recordedChunks","stream","captureStream","mediaRecorder","setTimeout","stop","ondataavailable","e","push","data","onstop","blob","Blob","url","URL","createObjectURL","a","document","createElement","download","href","dispatchEvent","MouseEvent","update","rotateY","rotateX","material","skip","stage","defineComponent","name","mounted","body","$refs","canvas","appendChild","beforeUnmount","methods","checked","map","_","supported","join","__exports__","components","TestScene","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","Object","keys","every","key","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}